[gd_scene format=4 uid="uid://80jnkij6f1xr"]

[ext_resource type="Script" uid="uid://b52ybcjcb8kxn" path="res://scripts/boardtile.gd" id="1_nsn1e"]
[ext_resource type="Shader" uid="uid://cybhflb3s8ofd" path="res://materials/paint_basin.tres" id="2_g4m2s"]
[ext_resource type="Texture2D" uid="uid://14yqfa5iq66y" path="res://materials/wood1.jpg" id="3_fns28"]
[ext_resource type="PackedScene" uid="uid://chj4ky77hj1qb" path="res://models/basin_canvas_tile.glb" id="3_g4m2s"]
[ext_resource type="Shader" uid="uid://621pavsppj0w" path="res://materials/canvas_tile.tres" id="3_pa3ds"]
[ext_resource type="Texture2D" uid="uid://dhwei0sk7slb8" path="res://ui/Patterns/Paw.png" id="3_uaumx"]
[ext_resource type="PackedScene" uid="uid://c3d1geeg3i3o6" path="res://models/canvas_tile.glb" id="5_pa3ds"]
[ext_resource type="PackedScene" uid="uid://d3ifrdqm1iqy0" path="res://models/basin_canvas_tile2.glb" id="7_pa3ds"]
[ext_resource type="Shader" uid="uid://dnhundremme0n" path="res://materials/water.gdshader" id="8_msfd0"]
[ext_resource type="Texture2D" uid="uid://babldjjtciciv" path="res://models/textures/Sponge__Normal.jpg" id="9_x1or4"]
[ext_resource type="Texture2D" uid="uid://6cvvdl6tr3i1" path="res://materials/metal.jpg" id="10_etwfe"]
[ext_resource type="Shader" uid="uid://bgri64qnv5olr" path="res://materials/glass.gdshader" id="10_x1or4"]
[ext_resource type="Texture2D" uid="uid://cvgk1a6oueyvp" path="res://materials/glass-1.png" id="11_0d73y"]
[ext_resource type="Texture2D" uid="uid://ctkppytmh57rn" path="res://materials/GridOutline.png" id="13_w87tx"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_msfd0"]
render_priority = 0
shader = ExtResource("3_pa3ds")
shader_parameter/CanvasColor = Color(1, 1, 1, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_msfd0"]
albedo_texture = ExtResource("3_fns28")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_x1or4"]
render_priority = 0
shader = ExtResource("2_g4m2s")
shader_parameter/PaintColor = Color(0.666683, 0, 0, 1)
shader_parameter/RandomID = 0.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_pa3ds"]
albedo_texture = ExtResource("3_fns28")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_jtu3l"]
render_priority = 0
shader = ExtResource("8_msfd0")
shader_parameter/primary_color = Color(6.256998e-07, 0.32193023, 0.47927952, 1)
shader_parameter/roughness = 0.2
shader_parameter/normalmap_a = ExtResource("9_x1or4")
shader_parameter/normalmap_a_strength = 0.3
shader_parameter/normalmap_b_strength = 0.4
shader_parameter/movement_direction = Vector2(0.01, 0.01)
shader_parameter/movement_strength = 0.1
shader_parameter/uv_scale = 0.095

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jtu3l"]
albedo_texture = ExtResource("3_fns28")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2q6dc"]

[sub_resource type="ArrayMesh" id="ArrayMesh_2yove"]
_surfaces = [{
"aabb": AABB(-1, -1, -1, 2, 2, 2),
"format": 34896613377,
"index_count": 36,
"index_data": PackedByteArray("AAABAAIAAAADAAEABAACAAEAAwAEAAEABQAAAAIAAwAAAAUABAAGAAIABQACAAYAAwAHAAQAAwAFAAcABwAGAAQABwAFAAYA"),
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 8,
"vertex_data": PackedByteArray("AAAAAP//AAAAAP//AAAAAAAA/////wAAAAAAAAAAAAD/////AAAAAP//AAD//wAA////////AAD//wAAAAAAAA==")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_nkdtg"]
resource_name = "basin_canvas_tile2_Cube_007"
_surfaces = [{
"aabb": AABB(-1, -1, -1, 2, 2, 2),
"attribute_data": PackedByteArray("/1////+f/7//n////1//v/9f/7//n/9//5//v/9f/3//X/9//5//P/+f/3//X/8//1//P/+fAAD/n/8//18AAP8f/3//X/8//1//f/8f/z//n/9//9//P//f/3//n/8/"),
"format": 34896613399,
"index_count": 36,
"index_data": PackedByteArray("AAABAAIAAAADAAEABAAFAAYABAAHAAUACAAJAAoACAALAAkADAANAA4ADAAPAA0AEAARABIAEAATABEAFAAVABYAFAAXABUA"),
"material": SubResource("StandardMaterial3D_2q6dc"),
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 24,
"vertex_data": PackedByteArray("AAAAAP//VNUAAP//AABU1QAA/////1TVAAAAAAAAVNUAAAAAAAD///////8AAP//AAD//wAA/////wAAAAD/////AAAAAFTV////////VNX/////AABU1f//AAD//1TV//8AAP///78AAP//////v/////////+/AAAAAP///78AAAAAAAD/v///AAD///+///8AAAAA/78AAAAA////v/////8AAP//AAD///////8AAP//AAD/////////////VNVU1VTVVNVU1VTVVNVU1f+//7//v/+//7//v/+//7+qKqoqqiqqKqoqqiqqKqoq/////////////////////wAA/38AAP9/AAD/fwAA/3//f/+//3//v/9//7//f/+/")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_2yove")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_w87tx"]
albedo_texture = ExtResource("10_etwfe")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_pu20o"]
render_priority = 0
shader = ExtResource("3_pa3ds")
shader_parameter/CanvasColor = Color(1, 0.3574912, 1, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_5rkhw"]
render_priority = 0
shader = ExtResource("10_x1or4")
shader_parameter/glass_texture = ExtResource("11_0d73y")
shader_parameter/trasnparency = 0.60000000894072

[sub_resource type="BoxMesh" id="BoxMesh_0d73y"]
size = Vector3(2, 0.1, 2)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_uaumx"]
transparency = 1
albedo_texture = ExtResource("13_w87tx")

[sub_resource type="PlaneMesh" id="PlaneMesh_pu20o"]
size = Vector2(1, 1)

[node name="Tile" type="Node3D" unique_id=349656334 node_paths=PackedStringArray("basic_canvas", "basic_canvas_mesh", "source_basin", "source_basin_mesh", "clean_tile", "inert_tile", "inert_tile_mesh", "preview", "preview_mesh")]
script = ExtResource("1_nsn1e")
basic_canvas = NodePath("BasicTile")
basic_canvas_mesh = NodePath("BasicTile/Cube")
source_basin = NodePath("SourceTile")
source_basin_mesh = NodePath("SourceTile/Cube_001")
clean_tile = NodePath("CleanTile")
inert_tile = NodePath("InertTile")
inert_tile_mesh = NodePath("InertTile/Cube_001")
preview = NodePath("Grid")
preview_mesh = NodePath("Grid/MeshInstance3D")

[node name="BasicTile" parent="." unique_id=2039495511 instance=ExtResource("5_pa3ds")]

[node name="Sprite3D" type="Sprite3D" parent="BasicTile" unique_id=190016327]
transform = Transform3D(0.2, 0, 0, 0, -8.742278e-09, 0.2, 0, -0.2, -8.742278e-09, 0, 0.1066255, 0)
texture = ExtResource("3_uaumx")

[node name="Cube" parent="BasicTile" index="1" unique_id=1139412234]
material_override = SubResource("ShaderMaterial_msfd0")

[node name="SourceTile" parent="." unique_id=267073316 instance=ExtResource("7_pa3ds")]

[node name="Sprite3D" type="Sprite3D" parent="SourceTile" unique_id=856601992]
transform = Transform3D(0.15, 0, 0, 0, -6.5567085e-09, 0.15, 0, -0.15, -6.5567085e-09, 0, 0.10391691, 0)
texture = ExtResource("3_uaumx")

[node name="Cube" parent="SourceTile" index="1" unique_id=563668116]
material_override = SubResource("StandardMaterial3D_msfd0")

[node name="Cube_001" parent="SourceTile" index="2" unique_id=992555556]
material_override = SubResource("ShaderMaterial_x1or4")

[node name="CleanTile" parent="." unique_id=610791707 instance=ExtResource("7_pa3ds")]
transform = Transform3D(1.0000001, 0, 0, 0, 1.0000001, 0, 0, 0, 1.0000001, 0, 0, 0)
visible = false

[node name="Cube" parent="CleanTile" index="0" unique_id=563668116]
material_override = SubResource("StandardMaterial3D_pa3ds")

[node name="Cube_001" parent="CleanTile" index="1" unique_id=992555556]
transform = Transform3D(0.4108031, 0, 0, 0, 0.08516651, 0, 0, 0, 0.4108031, 0, 0, 0)
material_override = SubResource("ShaderMaterial_jtu3l")

[node name="Cube_002" type="MeshInstance3D" parent="CleanTile" unique_id=2080553277]
transform = Transform3D(0.4, 0, 0, 0, 0.1, 0, 0, 0, 0.4, -0.00528717, -0.038360562, 0)
material_override = SubResource("StandardMaterial3D_jtu3l")
mesh = SubResource("ArrayMesh_nkdtg")

[node name="InertTile" parent="." unique_id=526049243 instance=ExtResource("3_g4m2s")]
visible = false

[node name="Cube" parent="InertTile" index="0" unique_id=12429473]
material_override = SubResource("StandardMaterial3D_w87tx")

[node name="Cube_001" parent="InertTile" index="1" unique_id=1019428878]
transform = Transform3D(0.48, 0, 0, 0, 0.1, 0, 0, 0, 0.48, 0, -0.012322571, 0)
material_override = SubResource("ShaderMaterial_pu20o")

[node name="glass" type="MeshInstance3D" parent="InertTile" unique_id=1542617360]
transform = Transform3D(0.48, 0, 0, 0, 0.1, 0, 0, 0, 0.48, 0, 0.09399408, 0)
material_override = SubResource("ShaderMaterial_5rkhw")
mesh = SubResource("BoxMesh_0d73y")

[node name="Grid" type="Node3D" parent="." unique_id=707874438]
visible = false

[node name="MeshInstance3D" type="MeshInstance3D" parent="Grid" unique_id=739863878]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.11159584, 0)
material_override = SubResource("StandardMaterial3D_uaumx")
mesh = SubResource("PlaneMesh_pu20o")

[editable path="BasicTile"]
[editable path="SourceTile"]
[editable path="CleanTile"]
[editable path="InertTile"]
